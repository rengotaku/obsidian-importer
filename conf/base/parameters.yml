# Kedro Parameters Definition
# conf/base/parameters.yml

# ============================================================
# GitHub Parameters (flat keys for explicit param references)
# ============================================================

github_url: ""  # GitHub URL (format: https://github.com/{owner}/{repo}/tree/{branch}/{path})
github_clone_dir: ""  # Target directory for git clone (empty = use system temp)

# ============================================================
# Ollama Parameters (per-function configuration)
# ============================================================

ollama:
  # Default settings applied to all functions
  defaults:
    model: "oss-gpt:20b"
    base_url: "http://localhost:11434"
    timeout: 120
    temperature: 0.2
    num_predict: -1  # -1 = unlimited

  # Per-function overrides (all fields optional)
  functions:
    # Knowledge extraction: long output (detailed markdown)
    extract_knowledge:
      num_predict: 16384
      timeout: 300

    # Summary translation: medium output
    translate_summary:
      num_predict: 1024

    # Topic extraction: very short output (1-3 words)
    extract_topic:
      model: "oss-gpt:20b"
      num_predict: 64
      timeout: 30

# ============================================================
# Import Parameters
# ============================================================

import:
  # Provider selection (overridden via CLI: --params import.provider=openai)
  provider: claude  # claude | openai | github

  # Processing limits
  limit: 0  # 0 = no limit
  min_messages: 3  # Minimum messages to process a conversation

  # Chunking
  chunk_size: 25000  # Characters before splitting into chunks
  chunk_enabled: false # FIXME: 会話の途中でぶった切ってしまうのを防ぐ必要がある

# ============================================================
# Organize Parameters
# ============================================================

organize:
  # Vault output configuration
  vault_base_path: "/home/takuya/Documents/Obsidian/Vaults"

  # Genre to Vault mapping (used by vault_output pipeline)
  genre_vault_mapping:
    ai: "エンジニア"
    devops: "エンジニア"
    engineer: "エンジニア"
    business: "ビジネス"
    economy: "経済"
    health: "日常"
    parenting: "日常"
    travel: "日常"
    lifestyle: "日常"
    daily: "日常"
    other: "その他"

  # Conflict handling mode: skip (default), overwrite, increment
  conflict_handling: "skip"

  # Genre classification keywords (used by classify_genre node)
  genre_priority:
    - ai
    - devops
    - engineer
    - economy
    - business
    - health
    - parenting
    - travel
    - lifestyle
    - daily

  genre_keywords:
    ai:
      - AI
      - 機械学習
      - 深層学習
      - 生成AI
      - プロンプト
      - Claude
      - ChatGPT
      - Stable Diffusion
      - LLM
      - GPT
    devops:
      - インフラ
      - コンテナ
      - クラウド
      - CI/CD
      - サーバー
      - Docker
      - Kubernetes
      - NGINX
      - Terraform
      - AWS
    engineer:
      - プログラミング
      - アーキテクチャ
      - DevOps
      - フレームワーク
      - API
      - データベース
    business:
      - ビジネス
      - マネジメント
      - リーダーシップ
      - マーケティング
    economy:
      - 経済
      - 投資
      - 金融
      - 市場
    health:
      - 健康
      - 医療
      - フィットネス
      - 運動
      - 病気
    parenting:
      - 子育て
      - 育児
      - 赤ちゃん
      - 教育
      - 幼児
      - キッザニア
    travel:
      - 旅行
      - 観光
      - ホテル
      - 航空
    lifestyle:
      - 家電
      - 電子レンジ
      - 洗濯機
      - DIY
      - 住居
      - 空気清浄機
    daily:
      - 日常
      - 趣味
      - 雑記
      - 生活
