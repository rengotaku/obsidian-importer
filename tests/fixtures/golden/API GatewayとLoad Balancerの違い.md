---
title: API GatewayとLoad Balancerの違い
created: 2025-11-20
tags:
  - API Gateway
  - Load Balancer
  - ALB
  - AWS
  - L7
  - OIDC
  - マイクロサービス
summary: API GatewayとLoad Balancerの違いを、役割、機能、動作レイヤー、実際の使い分けの観点から解説。AWSのALBについても言及し、API Gatewayのメリット・デメリットを整理。OIDCや複数バックエンド結果集約といった専門用語も補足し、API Gatewayの導入判断基準を明確化。
source_provider: claude
file_id: 3a73e98686ac
normalized: true
genre: engineer
topic: ネットワークアーキテクチャ
---

### API GatewayとLoad Balancerの違い

API GatewayとLoad Balancerは、どちらもトラフィックを制御する役割を持つが、その目的と機能は大きく異なる。

#### API Gateway

*   **役割**: クライアントからのAPIリクエストを受け付け、認証、ルーティング、リクエスト変換などの処理を行う。マイクロサービスアーキテクチャにおいて、APIのエントリーポイントとして機能。
*   **機能**:
    *   認証・認可 (APIキー、JWT検証、OIDC)
    *   レート制限
    *   リクエスト/レスポンス変換
    *   複数マイクロサービスへのルーティング
    *   APIバージョン管理
    *   サーキットブレーカー
*   **動作レイヤー**: アプリケーション層 (L7)

#### Load Balancer

*   **役割**: 複数のサーバーにトラフィックを分散し、負荷を軽減し、高可用性を実現する。
*   **機能**:
    *   サーバー間のトラフィック分散
    *   ヘルスチェック
    *   フェイルオーバー
    *   SSL/TLS終端
    *   セッション維持 (スティッキーセッション)
*   **動作レイヤー**: トランスポート層 (L4) またはアプリケーション層 (L7)

#### L7ルーティング

Load Balancer (ALB) はL7で動作し、HTTPヘッダー、パス、クエリパラメータなどに基づいてルーティングを行う。

### AWSのALB

ALBはL7で動作するLoad Balancerであり、HTTPリクエストの内容を解析できる。

#### ALBができること

*   パスベースルーティング (`/api/*` → サービスA、`/admin/*` → サービスB)
*   ホストベースルーティング (`api.example.com` と `admin.example.com` を分ける)
*   HTTPヘッダーベースルーティング
*   クエリパラメータベースルーティング
*   Lambda関数の統合
*   固定レスポンスやリダイレクト

#### ALBができないこと

*   認証・認可 (APIキー、JWT検証、Cognitoとの統合など)
*   レート制限 (リクエスト数の制限)
*   リクエスト/レスポンスの変換
*   複数バックエンドの結果を集約
*   詳細なAPIメトリクス・ロギング

### API GatewayとALBの比較

| 項目 | API Gateway | ALB |
|---|---|---|
| 認証・認可 | 可能 (OIDC, JWT) | 不可 |
| レート制限 | 可能 | 不可 |
| リクエスト変換 | 可能 | 不可 |
| 複数バックエンド結果集約 | 不可 | 不可 |
| APIバージョン管理 | 可能 | パスで実現可能 |
| 詳細APIメトリクス | 限定的 | 不可 |
| 動作レイヤー | L7 | L4/L7 |

### OIDCとは？

OpenID Connect (OIDC) は、認証プロトコルの一つ。ユーザーのIDを検証し、アプリケーションに安全に提供する仕組み。

### 複数バックエンド結果集約とは？

複数のバックエンドサービスから取得したデータを、API Gateway側で集約し、クライアントに一つのレスポンスとして返す機能。

### APIバージョン管理とは？

APIの互換性を保ちながら、新しいバージョンをリリースする仕組み。API Gatewayでは、パスやヘッダーでバージョンを管理できる。ALBでもパスで実現可能。